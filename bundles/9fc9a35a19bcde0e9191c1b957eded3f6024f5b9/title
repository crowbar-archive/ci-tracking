Give snapshots states of their own, and update the noderole state machine to reflect that. 
